install.packages("DATA606")
devtools::install_github("jbryer/DATA606")
devtools::install_github("jbryer/DATA606")
library(DATA606)
devtools::install_github("jbryer/DATA606")
library(DATA606)
??rlang
install.packages("rlang")
devtools::install_github("jbryer/DATA606")
library(DATA606)
normalPlot(mean=0,sd = 1, bounds = c(10,20))
normalPlot(mean=0,sd = 1, bounds = c(1,2))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,))
normalPlot(mean=0,sd = 1, bounds = c(0,-1.2))
normalPlot(mean=0,sd = 1, bounds = c(0,-1))
normalPlot(mean=0,sd = 1, bounds = c(0,-1))
normalPlot(mean=0,sd = 1, bounds = c(1,-1))
normalPlot(mean=0,sd = 1, bounds = c(1,2))
normalPlot(mean=0,sd = 1, bounds = c(0,2))
normalPlot(mean=0,sd = 1, bounds = c(-1,2))
normalPlot(mean=0,sd = 1, bounds = c(-1,0))
normalPlot(mean=0,sd = 1, bounds = c(-1,))
normalPlot(mean=0,sd = 1, bounds = c(-1,10))
normalPlot(mean=0,sd = 1, bounds = c(-1,4))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,4))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,5))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,6))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,3))
normalPlot(mean=0,sd = 1, bounds = c(-1.2,4))
normalPlot(mean=0,sd = 1, bounds = c(-1.3,4))
normalPlot(mean=0,sd = 1, bounds = c(-4,.18))
normalPlot(mean=0,sd = 1, bounds = c(8,10))
normalPlot(mean=0,sd = 1, bounds = c(-.5,.5))
normalPlot(heightMean, heightSD)
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
library(tidyr)
library(dplyr)
?gather
fullData
gather(fullData, key = "City", "Delay", 3:7)
gather(fullData, key = "City", "Delay", 1:7)
gather(fullData, key = "City", "Delay", 3:7)
gather(fullData, key = "City", "Delay", 4:7)
fullDAta
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",")
fullData
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
fullData[V1]
fullData[,V1]
fullData
gather(fullData, key = "City", value="Time")
fullData <- read.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T, header=T)
??read.csv
?read.csv
fullData <- read2.csv(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T, header=F)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T, header=F)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
tbl_df(fullData)
tbl_fullData <- tbl_df(fullData)
tbl_fullData
gather(tbl_fullData, key="name")
gather(tbl_fullData, key="name", valu="time")
names(fullData) <- null
names(fullData) <- NULL
fullData
gather(fullData, key="name",value="time")
gather(fullData, key="name",value="time", 3:7)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = F, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
fullData[,]
fullData[,V1]
fullData[,1]
fullData[,2]
fullData[1,1]
fullData[1,1] <- "Airline"
fullData
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
fullData[1,1]
gather(fullData, key="city","time", 3:7)
names(fullData)
names(fullData)[1]
names(fullData)[1] <- "Airline"
names(fullData)[1]
gather(fullData, key="city","time", 3:7)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, strip.white = T)
fullData
names(fullData)[1]
names(fullData)[1] <- "Airline"
names(fullData)[2] <- "Status"
fullData
?read.csv
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, strip.white = T, skipNul = T)
fullData
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, strip.white = T, blank.lines.skip = T)
fullData
?apply
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, blank.lines.skip = TRUE)
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, blank.lines.skip = TRUE)
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, na.strings = c("NA"))
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, na.strings = c("",NA"))
""
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, na.strings = c("","NA"))
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, na.strings = c("","NA"))
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", stringsAsFactors = FALSE, na.strings = c("",""), blank.lines.skip = TRUE)
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("",""), blank.lines.skip = TRUE)
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",", blank.lines.skip = TRUE)
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
apply(fullData,2,max,na.rm=TRUE)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
fullData <- na.omit(fullData)
fullData
read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
fullData[2,]
fullData[3,]
fullData[3,] <- NULL
fullData <- fullData[-3,]
fullData
fullData[1,1]
names(fullData)
names(fullData)[1] <- 'Airline'
names(fullData)[2] <- 'Status'
fullData
fullData <- read.csv2(file = "C://CUNY//GIT//CUNY//Semester1//607//Week4//data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE)
fullData
names(fullData)[1] <- 'Airline'
fullData
gather(fullData, key="City", value="Delay_minutes", 3:7)
fullData_Long <- gather(fullData, key="City", value="Delay_minutes", 3:7)
fullData_Long
fullData_Long <- gather(fullData, key="City", value="TravelTime", 3:7)
fullData_Long
fullData_Long <- gather(fullData, key="City", value="Time", 3:7)
fullData_Long <- gather(fullData, key="City", value="FlightCount", 3:7)
fullData_Long <- gather(fullData, key="City", value="Time", 3:7)
fullData_Long <- gather(fullData, key="City", value="FlightCount", 3:7)
fullData_Long
?flights
?flight
?tidyr
?dplyr
fullData_Long %>% group_by(Airline, FlightCount)
fullData_Long %>% filter(Status == "on time") %>% group_by(Airline, FlightCount)
ontime_dataset <- fullData_Long %>% filter(Status == "on time") %>% group_by(Airline, FlightCount)
delayed_dataset <- fullData_Long %>% filter(Status == "delayed") %>% group_by(Airline, FlightCount)
ontime_dataset
delayed_dataset
fullData_Long
fullData
?tidyr
?summarise
?summarize
library(tidyr)
library(dplyr)
?dplyr::summarise
knitr::opts_chunk$set(echo = TRUE)
#install.packages("tidyr", repos = "http://cran.us.r-project.org" )
#install.packages("dplyr", repos = "http://cran.us.r-project.org")
#install.packages("dplyr", repos = "http://cran.us.r-project.org")
#devtools::install_github("hadley/tidyr")
library(tidyr)
library(dplyr)
library(ggplot2)
ontime_dataset
ggplot(data = ontime_dataset, aes(x=FlightCount)) + geom_bar()
ggplot(data = ontime_dataset, aes(x=Airline, y=FlightCount)) + geom_bar()
ggplot(data = ontime_dataset, aes(x=Airline)) + geom_bar()
ggplot(data = ontime_dataset, aes(x=Airline, fill=FlightCount)) + geom_bar()
ggplot(data = ontime_dataset, aes(x=Airline, fill=FlightCount)) + geom_bar()
ggplot(ontime_dataset$City=='Los.Angeles', aes(x=Airline fill=FlightCount)) + geom_bar()
ggplot(ontime_dataset$City=='Los.Angeles', aes(x=Airline, fill=FlightCount)) + geom_bar()
ggplot(filter(ontime_dataset,City=='Los.Angeles'), aes(x=Airline, fill=FlightCount)) + geom_bar()
ggplot(filter(ontime_dataset,City=='Los.Angeles'), aes(x=Airline)) + geom_bar()
ggplot(data = ontime_dataset, aes(x=City, fill=FlightCount)) + geom_bar()
fullData_long
fullData_Long
summarise(fullData_Long)
?summarize
summarise(fullData_Long, max(FlightCount))
group_by(fullData_Long, Airline)
group_by(fullData_Long, Airline, City
)
group_by(fullData_Long, Airline, City)
long_ds <- fullData_Long[,-2]
long_ds
group_by(long_ds, City, FlightCount)
fullData %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount))
fullData
fullData_Long
fullData_Long %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount))
mutate?
?
l
;
?mutate
fullData_Long
fullData_Long %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount))
fullData_Long %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount)) %>% select(totalcount)
fullData_Long %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount))
airline_city_total <- fullData_Long %>% select(Airline, City, FlightCount) %>% group_by(Airline, City) %>% summarize(totalcount=sum(FlightCount))
airline_city_total
fullData_Long
?join
left_join(fullData_Long, airline_city_total, by=c("Airline","City"))
fullData_long_totalcount <- left_join(fullData_Long, airline_city_total, by=c("Airline","City"))
group_by(fullData_long_totalcount, Airline, City)
fullData_long_totalcount %>% select(Airline, City, FlightCount, TotalCount) %>% mutate(ratio=FlightCount/TotalCount)
fullData_long_totalcount %>% select(Airline, City, FlightCount, TotalCount) %>% mutate(ratio=FlightCount/totalcount)
fullData_long_totalcount %>% select(Airline, City, FlightCount, totalcount) %>% mutate(ratio=FlightCount/totalcount)
fullData_long_totalcount
fullData_long_totalcount %>% select(Airline, Status, City, FlightCount, totalcount) %>% mutate(ratio=FlightCount/totalcount)
fullData_long_totalcount %>% select(Airline, Status, City, FlightCount, totalcount) %>% mutate(ratio=FlightCount/totalcount) %>% filter(Status=='on time') %>% group_by(City, Airline)
city_airline_ontimeRatio <- fullData_long_totalcount %>% select(Airline, Status, City, FlightCount, totalcount) %>% mutate(ratio=FlightCount/totalcount) %>% filter(Status=='on time') %>% group_by(City, Airline) %>% select(City, Airline, ratio)
city_airline_ontimeRatio
city_airline_ontimeRatio <- fullData_long_totalcount %>% select(Airline, Status, City, FlightCount, totalcount) %>% mutate(ratio=FlightCount/totalcount) %>% filter(Status=='on time') %>% group_by(City, Airline) %>% select(City, Airline, ratio as 'OntimeRatio')
city_airline_ontimeRatio
mutate(city_airline_ontimeRatio, ontime_ratio=ratio)
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio)
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio)
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio) %>% group_by((City, Airline))
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio) %>% group_by(City, Airline))
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio) %>% group_by(City, Airline)
y <- mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio) %>% group_by(City, Airline)
y
spread(y, key = City)
spread(y, key = City, value = Airline)
gather(y, Key=City, value = Airline)
gather(y, Key=City, value = Airline, 3:$)
gather(y, Key=City, value = Airline, 3:4)
y
gather(y, key="City",val)
gather(y, key="City",valye="time",2:4)
gather(y, key="City",value="time",2:4)
gather(y, key="City",value="time",3:4)
mutate(city_airline_ontimeRatio, ontime_ratio=ratio, delay_ratio=1-ratio) %>% select(City, Airline, ontime_ratio, delay_ratio)
?inner_join
y
y
?group_by_prepare
?group_by_if
?spread
spread(data = y)
spread(data = y, fill = x)
spread(y, key="Airline",value="City")
gather(y, key="City", value="Airline",3:4)
gather(y, key="City", value="Airline",2:4)
gather(y, key="City", value="Airline2",2:4)
gather(y, key="City", value="Airline2",3:4)
y
y1 <- select(y, City, Airline, ontime_ratio)
y1
spread(y1, Airline, ontime_ratio)
table(y1)
barplot(y1)
?barplot
y1
y2 <- spread(y1, Airline, ontime_ratio)
y2
ggplot(y2, aes(x=City)) + geom_bar
ggplot(y2, aes(x=City)) + geom_bar()
ggplot(y2, aes(x=City, y = ALASKA)) + geom_bar()
names(y2)
names(y2)[3] <- "AM WEST"
y2
ggplot(y2, aes=(x=City, y=c(ALASKA, 'AM WEST'))) + geom_bar(stat='Identity', aes(fill=City))
ggplot(y2, aes=(x=City) + geom_bar(stat='Identity', aes(fill=City))
;
''
names(y2)[3] <- "AM-WEST"
y2
barplot(height=City)
barplot(height=y2$City)
barplot(height=y2$ALASKA)
df = melt(data.frame(A=c(2, 10), B=c(3, 20),
experiment=c("X", "X & Y")),
variable_name="metric")
library(ggplot2)
?melt
ggplot(y2, aes(City)) + geom_bar
ggplot(y2, aes(City)) + geom_bar()
ggplot(y2, aes(City, ALASKA)) + geom_bar()
ggplot(y2, aes(x=City, y=ALASKA)) + geom_bar()
ggplot(y2, aes(x=City)) + geom_bar(mapping = ALASKA)
ggplot(y2, aes(x=City)) + geom_bar(mapping = y2$ALASKA)
?diamonds
head(diamonds)
y2
y2 <- spread(y1, Airline, ontime_ratio)
ggplot(data = y2) + geom_bar(mapping = aes(x=City))
y1
ggplot(y1, aes(x=City, y = ontime_ratio)) + geom_bar()
ggplot(y1, aes(x=City, y = ontime_ratio)) + geom_bar(stat="identity")
ggplot(y1, aes(x=City, y = ontime_ratio, fill=Airline)) + geom_bar(stat="identity")
ggplot(y1, aes(x=City, y = ontime_ratio, fill=Airline)) + geom_bar(stat="identity", position = position_dodge())
fullData_long_totalcount
ggplot(fullData_long_totalcount, aes(x=City, y = FlightCount, fill=Airline)) + geom_bar(stat="identity", position = position_dodge())
read.csv2(file = "https://raw.githubusercontent.com/san123i/CUNY/master/Semester1/607/Week5/data.csv", header = T, sep = ",",  na.strings = c("","NA"), blank.lines.skip = TRUE, stringsAsFactors = F)
?amsMath
??amsmath
?MiKTeX
install.packages("MiKTeX")
library(MiKTeX)
install.packages("MiKTeX")
install.packages("MiKTeX")
install.MikTeX(page_with_download_url = "http://miktex.org/download")
install.URL(page_with_download_url = "http://miktex.org/download")
library(tidyverse)
library(psych)
library(tidyverse)
library(rpart)
library(rpart.plot)
library(party)
library(kableExtra)
read_tsv("https://raw.githubusercontent.com/PriyaShaji/Data607/master/Final%20Project/drugLibTrain_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
read_tsv("https://raw.githubusercontent.com/PriyaShaji/Data607/master/Final%20Project/drugLibTest_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
getwd()
setwd("C:/CUNY/GIT/CUNY/Semester1/607/FinalProject")
read_tsv("drugLibTest_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
train <- read_tsv("drugLibTrain_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
test <- read_tsv("drugLibTest_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
dataset <- full_join(train, test)
all_drugs_df <- read.csv("drugLibTest_raw.csv")
train <- read_tsv("drugLibTrain_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
test <- read_tsv("drugLibTest_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
dataset <- full_join(train, test)
View(dataset)
View(all_drugs_df)
View(dataset)
dataset$effectiveness <- factor(dataset$effectiveness, levels=c('Ineffective','Marginally Effective','Moderately Effective','Considerably Effective','Highly Effective'))
dataset$sideEffects <- factor(dataset$sideEffects,levels=c('No Side Effects','Mild Side Effects','Moderate Side Effects','Severe Side Effects','Extremely Severe Side Effects'))
ggplot(dataset, aes(x=effectiveness)) + geom_bar(stat="count")
hist(dataset$rating)
install.packages("FSA")
install.packages("FSA")
library(FSA)
install.packages("FSA")
library(FSA)
updateDB <- function(urlDrugName, rating, effectiveness, sideEffects, condition, benefitsReview, sideEffectsReview, commentsReview){
con2 <- dbConnect(RMySQL::MySQL(), dbname = "Data607FinalProject", host="localhost", user="admin",password= "admin")
)
con2 <- dbConnect(RMySQL::MySQL(), dbname = "Data607FinalProject", host="localhost", user="admin",password= "admin")
library(RMySQL)
con2 <- dbConnect(RMySQL::MySQL(), dbname = "Data607FinalProject", host="localhost", user="admin",password= "admin")
con2 <- dbConnect(RMySQL::MySQL(), dbname = "Data607FinalProject", host="localhost", user="root",password= "root")
head(dataset)
ratings <- dataset$rating
ratings
mean(ratings)
sd(ratings)
extremelyEffectiveRatings <- subset(dataset, ratings=="Extremely Effective")
extremelyEffectiveRatings
extremelyEffectiveRatings$rating
View(dataset)
extremelyEffectiveRatings <- subset(dataset, ratings=="Highly Effective")
highlyEffectiveRatings <- subset(dataset, effectiveness=="Highly Effective")
View(all_drugs_df)
train <- read_tsv("drugLibTrain_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
test <- read_tsv("drugLibTest_raw.tsv", col_names = TRUE, cols(
X1 = col_double(),
urlDrugName = col_character(),
rating = col_double(),
effectiveness = col_factor(),
sideEffects = col_factor(),
condition = col_factor(),
benefitsReview = col_character(),
sideEffectsReview = col_character(),
commentsReview = col_character()
))
dataset <- full_join(train, test)
head(dataset)
dataset$effectiveness <- factor(dataset$effectiveness, levels=c('Ineffective','Marginally Effective','Moderately Effective','Considerably Effective','Highly Effective'))
dataset$sideEffects <- factor(dataset$sideEffects,levels=c('No Side Effects','Mild Side Effects','Moderate Side Effects','Severe Side Effects','Extremely Severe Side Effects'))
highlyEffectiveDrugs <- subset(dataset, effectiveness=="Highly Effective")
mean(highlyEffectiveDrugs$rating)
sd(highlyEffectiveDrugs$rating)
hist(highlyEffectiveDrugs$rating)
x <- subset(dataset, effectiveness=="Ineffective")
hist(x$rating)
x <- subset(dataset, effectiveness=="Marginally Effective")
hist(x$rating)
x <- subset(dataset, effectiveness=="Moderately Effective")
hist(x$rating)
nrow(x )
x$sideEffects
View(highlyEffectiveDrugs)
y <- subset(x, sideEffects=='No Side Effects')
y
nrow(y)
nrow(x)/nrow(y)
nrow(y)/nrow(x)
x <- subset(dataset, effectiveness=="Highly Effective")
y <- subset(x, sideEffects=='No Side Effects')
nrow(y)/nrow(x)
y <- subset(x, sideEffects=='No Side Effects' | sideEffects=='Mild Side Effects')
y
nrow(y)/nrow(x)
y <- subset(x, sideEffects=='No Side Effects')
nrow(y)/nrow(x)
highlyEffectiveDrugs <- subset(dataset, effectiveness=="Highly Effective")
meanRating <- mean(highlyEffectiveDrugs$rating)
sdRating <- sd(highlyEffectiveDrugs$rating)
noSideEffectDrugs <- subset(highlyEffectiveDrugs, sideEffects=='No Side Effects')
p<- nrow(noSideEffectDrugs)/nrow(highlyEffectiveDrugs)
n <- nrow(highlyEffectiveDrugs)
SE<- sqrt(p * (1-p)/n)
SE
CILower <- p - 1.96 * SE
CIUpper <- p + 1.96 * SE
CILower
CIUpper
install.packages("rpart")
install.packages("rpart.plot")
install.packages("caret")
install.packages("rpart")
